# ğŸ• 3D Asset Management Module

### Marker-Based AR Interactive Pizza Menu System

**Author:** Aakarsh Dhingra  
**Module Type:** Core Rendering & Optimization Layer  
**System Type:** Marker-Based Augmented Reality

---

## 1. Module Overview

The **3D Asset Management Module** powers the AR pizza menu by:

- Importing and managing 3D pizza models
- Optimizing models for mobile AR rendering
- Structuring ingredient-level interaction
- Managing runtime model switching
- Handling nutrition and metadata binding

**Key Benefits:**

- High frame rates
- Low memory usage
- Smooth model switching
- Seamless AR interaction

---

## 2. Asset Architecture Structure

The asset system uses a clear, modular hierarchy:

```
Assets/
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ Margherita.fbx
â”‚   â”œâ”€â”€ Farmhouse.fbx
â”‚   â””â”€â”€ Pepperoni.fbx
â”œâ”€â”€ Textures/
â”‚   â”œâ”€â”€ Cheese_Base.png
â”‚   â”œâ”€â”€ Pepperoni_Texture.png
â”‚   â””â”€â”€ Veggies_Texture.png
â”œâ”€â”€ Prefabs/
â”‚   â”œâ”€â”€ Margherita_Prefab
â”‚   â”œâ”€â”€ Farmhouse_Prefab
â”‚   â””â”€â”€ Pepperoni_Prefab
â”œâ”€â”€ Scripts/
â”‚   â”œâ”€â”€ PizzaManager.cs
â”‚   â”œâ”€â”€ IngredientHandler.cs
â”‚   â””â”€â”€ NutritionToggle.cs
â””â”€â”€ Data/
    â””â”€â”€ PizzaData.json
```

**Advantages:**

- Modular and scalable
- Clear separation of concerns

---

## 3. 3D Model Import Pipeline

### 3.1 Supported File Formats

- `.fbx` (Preferred)
- `.obj` (Alternative)

### 3.2 Import Workflow

1. Design model in Blender or Maya
2. Export as optimized low-poly `.fbx`
3. Import into Unity
4. Convert to Prefab
5. Attach colliders
6. Structure ingredient objects as children

---

## 4. Mobile Optimization Strategy

### 4.1 Polygon Budget

- 5,000â€“20,000 triangles per pizza
- Lightweight ingredient meshes
- Avoid unnecessary subdivisions

### 4.2 Texture Optimization

- Resolution: 512x512 or 1024x1024
- Compression: ASTC (Android), ETC2 fallback
- Texture atlasing

### 4.3 Lighting Strategy

- Baked lighting
- Mobile-optimized shaders
- Real-time shadows disabled

### 4.4 Draw Call Reduction

- Static batching
- Shared materials
- Mesh combination where possible

---

## 5. Runtime Model Management

### 5.1 Preloading Strategy

- All prefabs loaded at scene start
- Kept inactive until needed
- Activated dynamically to prevent runtime lag

### 5.2 Arrow-Based Switching Logic

```csharp
currentIndex = (currentIndex + 1) % pizzaList.Count;
// Deactivate current model
// Update index
// Activate next model
// Reset transform relative to marker
```

---

## 6. Ingredient-Level Object Structuring

**Prefab Hierarchy:**

```
Pizza
â”œâ”€â”€ Base
â”œâ”€â”€ Cheese
â”œâ”€â”€ Topping_Pepperoni
â”œâ”€â”€ Topping_Mushroom
â””â”€â”€ Topping_Olive
```

Each topping includes:

- Mesh Renderer
- Collider
- Metadata reference ID

**Enables:**

- Raycast detection
- Independent interaction

---

## 7. Data Binding & Metadata System

All pizza details are stored in JSON for flexibility.

### 7.1 Example Structure

```json
{
  "name": "Margherita",
  "model": "Margherita_Prefab",
  "ingredients": [
    {
      "id": "cheese",
      "name": "Mozzarella",
      "allergen": "Dairy",
      "description": "High-quality Italian mozzarella"
    }
  ],
  "nutrition": {
    "calories": 250,
    "protein": "11g",
    "carbs": "30g",
    "dietType": "Vegetarian"
  }
}
```

### 7.2 Why Separate Data?

- Easier updates
- No need to modify 3D models
- Supports scalability

---

## 8. Interaction Integration

### 8.1 Raycasting Mechanism

When the user taps:

1. Touch detected
2. Raycast projected
3. Collider hit detected
4. Ingredient ID retrieved
5. UI popup displayed

---

## 9. Performance Safeguards

To maintain stable FPS (30â€“60):

- Minimized garbage collection
- Object pooling if required
- No heavy dynamic physics
- Frame debugger testing

---

## 10. Scalability Design

The module supports:

- Adding new pizza variants
- Expanding the ingredient database
- Backend integration
- Future animation upgrades

---

## 11. Engineering Considerations

| Factor                | Solution                |
|-----------------------|------------------------|
| Mobile memory limits  | Texture compression    |
| Frame drops           | Polygon cap            |
| Switching lag         | Preloading prefabs     |
| CPU load              | Avoid real-time shadows|
| Scalability           | JSON-driven data       |

---

## 12. Module Flow Summary

**Input:**

- Marker detection active
- User arrow click
- Ingredient tap

**Processing:**

- Prefab activation/deactivation
- Raycast detection
- JSON metadata retrieval

**Output:**

- 3D pizza rendered
- Ingredient information popup
- Nutrition overlay updated

